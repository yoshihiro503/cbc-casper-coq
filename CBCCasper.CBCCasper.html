<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CBCCasper.CBCCasper</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CBCCasper.CBCCasper</h1>

<div class="code">
</div>

<div class="doc">
   see https://github.com/cbc-casper/cbc-casper-paper/blob/master/cbc-casper-paper-draft.pdf
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Logic.Classical.html#"><span class="id" title="library">Classical</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="list_pred_union"><span class="id" title="definition">list_pred_union</span></a> {<span class="id" title="var">A</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">ps</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)) : <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">List.Exists</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="CBCCasper.CBCCasper.html#ps"><span class="id" title="variable">ps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="set"><span class="id" title="variable">set</span></a> : <span class="id" title="keyword">Set</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="keyword">Variable</span> <a name="empty_set"><span class="id" title="variable">empty_set</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">A</span>:<span class="id" title="keyword">Set</span>}, <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="union"><span class="id" title="variable">union</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">E</span>: <span class="id" title="keyword">Set</span>}, <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="unions"><span class="id" title="definition">unions</span></a> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Set</span>} (<span class="id" title="var">xss</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a>)) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">acc</span> ⇒ <a class="idref" href="CBCCasper.CBCCasper.html#union"><span class="id" title="axiom">union</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="CBCCasper.CBCCasper.html#empty_set"><span class="id" title="axiom">empty_set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#xss"><span class="id" title="variable">xss</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="incl"><span class="id" title="variable">incl</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">E</span>: <span class="id" title="keyword">Set</span>}, <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Axiom</span> <a name="incl_union_l"><span class="id" title="axiom">incl_union_l</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">E</span>: <span class="id" title="keyword">Set</span>} (<span class="id" title="var">A</span> <span class="id" title="var">B</span>: <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a>), <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#union"><span class="id" title="axiom">union</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Axiom</span> <a name="incl_union_r"><span class="id" title="axiom">incl_union_r</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">E</span>: <span class="id" title="keyword">Set</span>} (<span class="id" title="var">A</span> <span class="id" title="var">B</span>: <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a>), <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#B"><span class="id" title="variable">B</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#union"><span class="id" title="axiom">union</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Axiom</span> <a name="incl_refl"><span class="id" title="axiom">incl_refl</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">E</span>: <span class="id" title="keyword">Set</span>} (<span class="id" title="var">A</span>: <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a>), <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Axiom</span> <a name="incl_trans"><span class="id" title="axiom">incl_trans</span></a> : <span class="id" title="keyword">∀</span> {<span class="id" title="var">E</span>: <span class="id" title="keyword">Set</span>} (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>: <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#E"><span class="id" title="variable">E</span></a>), <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#C"><span class="id" title="variable">C</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="number"><span class="id" title="definition">number</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="validator"><span class="id" title="variable">validator</span></a> : <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="keyword">Variable</span> <a name="V"><span class="id" title="variable">V</span></a> : <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#validator"><span class="id" title="axiom">validator</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="t"><span class="id" title="variable">t</span></a> : <a class="idref" href="CBCCasper.CBCCasper.html#number"><span class="id" title="definition">number</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="C"><span class="id" title="variable">C</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="message"><span class="id" title="variable">message</span></a> : <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="State"><span class="id" title="definition">State</span></a> := <a class="idref" href="CBCCasper.CBCCasper.html#set"><span class="id" title="axiom">set</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#message"><span class="id" title="axiom">message</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Eps"><span class="id" title="variable">Eps</span></a> : <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#C"><span class="id" title="axiom">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="Transition"><span class="id" title="inductive">Transition</span></a> : <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="Trans"><span class="id" title="constructor">Trans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span>, <a class="idref" href="CBCCasper.CBCCasper.html#incl"><span class="id" title="axiom">incl</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Transition"><span class="id" title="inductive">Transition</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Transition_refl"><span class="id" title="lemma">Transition_refl</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="CBCCasper.CBCCasper.html#Transition"><span class="id" title="inductive">Transition</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Trans"><span class="id" title="constructor">Trans</span></a>, <a class="idref" href="CBCCasper.CBCCasper.html#incl_refl"><span class="id" title="axiom">incl_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Transition_trans"><span class="id" title="lemma">Transition_trans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Transition"><span class="id" title="inductive">Transition</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Transition"><span class="id" title="inductive">Transition</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s3"><span class="id" title="variable">s3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Transition"><span class="id" title="inductive">Transition</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s3"><span class="id" title="variable">s3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span> <span class="id" title="var">tr1</span> <span class="id" title="var">tr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">tr1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">incl1</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">tr2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">incl2</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Trans"><span class="id" title="constructor">Trans</span></a>, <a class="idref" href="CBCCasper.CBCCasper.html#incl_trans"><span class="id" title="axiom">incl_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">B</span> := <span class="id" title="var">s2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="F"><span class="id" title="variable">F</span></a> : <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#number"><span class="id" title="definition">number</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <span class="id" title="var">state</span> := <a class="idref" href="CBCCasper.CBCCasper.html#F"><span class="id" title="axiom">F</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#t"><span class="id" title="axiom">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">Safety Proof</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="Future"><span class="id" title="inductive">Future</span></a> : <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="FutureTrans"><span class="id" title="constructor">FutureTrans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Transition"><span class="id" title="inductive">Transition</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> .<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Future_refl"><span class="id" title="lemma">Future_refl</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">sigma</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#FutureTrans"><span class="id" title="constructor">FutureTrans</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Transition_refl"><span class="id" title="lemma">Transition_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Future_trans"><span class="id" title="lemma">Future_trans</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s3"><span class="id" title="variable">s3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s3"><span class="id" title="variable">s3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span> <span class="id" title="var">fut1</span> <span class="id" title="var">fut2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">fut1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">sigma1</span> <span class="id" title="var">sigma2</span> <span class="id" title="var">trans1</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">fut2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">sigma3</span> <span class="id" title="var">trans2</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#FutureTrans"><span class="id" title="constructor">FutureTrans</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Transition_trans"><span class="id" title="lemma">Transition_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := <span class="id" title="var">s2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 1 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="two_party_common_futures"><span class="id" title="lemma">two_party_common_futures</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#F"><span class="id" title="axiom">F</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#union"><span class="id" title="axiom">union</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#t"><span class="id" title="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span> <span class="id" title="var">sigma1</span> <span class="id" title="var">sigma2</span> <span class="id" title="var">le_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CBCCasper.CBCCasper.html#union"><span class="id" title="axiom">union</span></a> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#FutureTrans"><span class="id" title="constructor">FutureTrans</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Trans"><span class="id" title="constructor">Trans</span></a>, <a class="idref" href="CBCCasper.CBCCasper.html#incl_union_l"><span class="id" title="axiom">incl_union_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#FutureTrans"><span class="id" title="constructor">FutureTrans</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Trans"><span class="id" title="constructor">Trans</span></a>, <a class="idref" href="CBCCasper.CBCCasper.html#incl_union_r"><span class="id" title="axiom">incl_union_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
lemma 1 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="monotonic_futures"><span class="id" title="lemma">monotonic_futures</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span> <span class="id" title="var">sigma</span> <span class="id" title="var">sigma'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">fut</span> <span class="id" title="var">s</span> <span class="id" title="var">fut0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Future_trans"><span class="id" title="lemma">Future_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s2</span> := <span class="id" title="var">state'</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">impl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">impl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Future_refl"><span class="id" title="lemma">Future_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="Decided"><span class="id" title="definition">Decided</span></a> (<span class="id" title="var">p</span>: <a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">state</span> : <span class="id" title="keyword">Prop</span> := <span class="id" title="keyword">∀</span> <span class="id" title="var">state'</span>, <a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="neg"><span class="id" title="definition">neg</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">P</span>: <a class="idref" href="CBCCasper.CBCCasper.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a><a class="idref" href="CBCCasper.CBCCasper.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lemma 2 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="forward_consistency"><span class="id" title="lemma">forward_consistency</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span> <span class="id" title="var">p</span> <span class="id" title="var">sigma1</span> <span class="id" title="var">sigma2</span> <span class="id" title="var">fut</span> <span class="id" title="var">dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">state''</span> <span class="id" title="var">fut''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CBCCasper.CBCCasper.html#monotonic_futures"><span class="id" title="lemma">monotonic_futures</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fut</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 3 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="backward_consistency"><span class="id" title="lemma">backward_consistency</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Future"><span class="id" title="inductive">Future</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state'"><span class="id" title="variable">state'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a><a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#neg"><span class="id" title="definition">neg</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">state</span> <span class="id" title="var">state'</span> <span class="id" title="var">p</span> <span class="id" title="var">sigma1</span> <span class="id" title="var">sigma2</span> <span class="id" title="var">fut</span> <span class="id" title="var">dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Logic.Classical_Pred_Type.html#ex_not_not_all"><span class="id" title="lemma">ex_not_not_all</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state'</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">dec</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CBCCasper.CBCCasper.html#Future_refl"><span class="id" title="lemma">Future_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 3 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="two_party_consensus_safety"><span class="id" title="lemma">two_party_consensus_safety</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#F"><span class="id" title="axiom">F</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#union"><span class="id" title="axiom">union</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#t"><span class="id" title="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">(</span></a><a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state1"><span class="id" title="variable">state1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#neg"><span class="id" title="definition">neg</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="CBCCasper.CBCCasper.html#state2"><span class="id" title="variable">state2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span> <span class="id" title="var">p</span> <span class="id" title="var">sigma1</span> <span class="id" title="var">sigma2</span> <span class="id" title="var">le_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CBCCasper.CBCCasper.html#two_party_common_futures"><span class="id" title="lemma">two_party_common_futures</span></a> <span class="id" title="var">state1</span> <span class="id" title="var">state2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> [<span class="id" title="var">fut1</span> <span class="id" title="var">fut2</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Logic.Classical_Prop.html#or_not_and"><span class="id" title="lemma">or_not_and</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Logic.Classical_Prop.html#imply_to_or"><span class="id" title="lemma">imply_to_or</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dec1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <span class="id" title="var">s</span>); [|<span class="id" title="tactic">inversion</span> <span class="id" title="var">fut2</span>; <span class="id" title="tactic">auto</span>]. <span class="id" title="tactic">intro</span> <span class="id" title="var">sigma_s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CBCCasper.CBCCasper.html#backward_consistency"><span class="id" title="lemma">backward_consistency</span></a> <span class="id" title="var">state2</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CBCCasper.CBCCasper.html#forward_consistency"><span class="id" title="lemma">forward_consistency</span></a> <span class="id" title="var">state1</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Definition 3.5 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="Consistent"><span class="id" title="definition">Consistent</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="CBCCasper.CBCCasper.html#State"><span class="id" title="definition">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">q</span>, <a class="idref" href="CBCCasper.CBCCasper.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a>.<br/>

<br/>
</div>

<div class="doc">
Definition 3.6 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="Decisions"><span class="id" title="definition">Decisions</span></a> <span class="id" title="var">state</span> <span class="id" title="var">p</span> := <a class="idref" href="CBCCasper.CBCCasper.html#Decided"><span class="id" title="definition">Decided</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#state"><span class="id" title="variable">state</span></a>.<br/>

<br/>
</div>

<div class="doc">
Theorem 4 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a name="n_party_consensus_safety_for_properties_of_protocol_states"><span class="id" title="lemma">n_party_consensus_safety_for_properties_of_protocol_states</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">states</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">List.Forall</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Sigma_t"><span class="id" title="definition">Sigma_t</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#states"><span class="id" title="variable">states</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CBCCasper.CBCCasper.html#F"><span class="id" title="axiom">F</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#unions"><span class="id" title="definition">unions</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#states"><span class="id" title="variable">states</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#t"><span class="id" title="axiom">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Consistent"><span class="id" title="definition">Consistent</span></a> (<a class="idref" href="CBCCasper.CBCCasper.html#list_pred_union"><span class="id" title="definition">list_pred_union</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.8.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#Decisions"><span class="id" title="definition">Decisions</span></a> <a class="idref" href="CBCCasper.CBCCasper.html#states"><span class="id" title="variable">states</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>